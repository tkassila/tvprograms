{"version":3,"sources":["webpack:///route-profile.chunk.91571.js","webpack:///./routes/profile/index.js","webpack:///./routes/profile/TimeForm.js","webpack:///./routes/profile/style.css"],"names":["webpackJsonp","B9hw","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","profile__classCallCheck","instance","Constructor","profile__possibleConstructorReturn","profile__inherits","B","props","name","A","defineProperty","preact_min","Button","Button_default","n","profile_style","profile_style_default","timezones","TimeForm__ref","type","TimeForm","state","tz","msg","_Component","_handleChange","this","onFormChange","_changeTimezone","evt","setState","target","_changeMsg","encodeURIComponent","replace","_handleFormSubmit","preventDefault","onFormSubmit","render","onSubmit","onChange","defaultValue","map","t","key","placeholder","Component","Media","d","profile_Profile","Profile","updateTime","time","Date","now","increment","count","getApiUrl","host","addKissaCount","kissacount","currentTime","fetchCurrentTime","bind","handleFormSubmit","handleChange","componentDidMount","timer","setInterval","componentWillUnmount","clearInterval","newState","url","fetch","mode","credentials","then","resp","json","data","dataString","user","apiUrl","console","log","screen","class","style","profile","toLocaleString","raised","ripple","onClick","Tv6c","exports"],"mappings":"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","file":"route-profile.chunk.91571.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"B9hw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ../node_modules/preact-material-components/Button/index.js\nvar Button = __webpack_require__(\"7/cg\");\nvar Button_default = /*#__PURE__*/__webpack_require__.n(Button);\n\n// EXTERNAL MODULE: ../node_modules/preact-material-components/Button/style.css\nvar style = __webpack_require__(\"aqQ4\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ./routes/profile/style.css\nvar profile_style = __webpack_require__(\"Tv6c\");\nvar profile_style_default = /*#__PURE__*/__webpack_require__.n(profile_style);\n\n// CONCATENATED MODULE: ./routes/profile/TimeForm.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar timezones = ['PST', 'MST', 'MDT', 'EST', 'UTC'];\n\nvar TimeForm__ref = Object(preact_min[\"h\"])('input', {\n    type: 'submit',\n    value: 'Update request'\n});\n\nvar TimeForm_TimeForm = function (_Component) {\n    _inherits(TimeForm, _Component);\n\n    function TimeForm(props) {\n        _classCallCheck(this, TimeForm);\n\n        /*\r\n        this.fetchCurrentTime = this.fetchCurrentTime.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        */\n        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n        var tz = props.tz,\n            msg = props.msg;\n\n        _this.state = { tz: tz, msg: msg };\n        return _this;\n    }\n\n    TimeForm.prototype._handleChange = function _handleChange(evt) {\n        typeof this.props.onFormChange === 'function' && this.props.onFormChange(this.state);\n    };\n\n    TimeForm.prototype._changeTimezone = function _changeTimezone(evt) {\n        var tz = evt.target.value;\n        this.setState({ tz: tz }, this._handleChange);\n    };\n\n    TimeForm.prototype._changeMsg = function _changeMsg(evt) {\n        var msg = encodeURIComponent(evt.target.value).replace(/%20/, '+');\n        this.setState({ msg: msg }, this._handleChange);\n    };\n\n    TimeForm.prototype._handleFormSubmit = function _handleFormSubmit(evt) {\n        evt.preventDefault();\n        typeof this.props.onFormSubmit === 'function' && this.props.onFormSubmit(this.state);\n    };\n\n    TimeForm.prototype.render = function render(props, state) {\n        var tz = state.tz;\n\n        return Object(preact_min[\"h\"])(\n            'form',\n            { onSubmit: this._handleFormSubmit },\n            Object(preact_min[\"h\"])(\n                'select',\n                {\n                    onChange: this._changeTimezone,\n                    defaultValue: tz },\n                timezones.map(function (t) {\n                    return Object(preact_min[\"h\"])(\n                        'option',\n                        { key: t, value: t },\n                        t\n                    );\n                })\n            ),\n            Object(preact_min[\"h\"])('input', {\n                type: 'text',\n                placeholder: 'A chronic string message (such as 7 hours from\\r now)',\n                onChange: this._changeMsg\n            }),\n            TimeForm__ref\n        );\n    };\n\n    return TimeForm;\n}(preact_min[\"Component\"]);\n\n\n// EXTERNAL MODULE: ./utils/Media.js\nvar Media = __webpack_require__(\"YiLN\");\n\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib??ref--0!./routes/profile/index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return profile_Profile; });\n\n\nfunction profile__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction profile__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction profile__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n// import { MediaQuery } from '../../preact-responsive/preact-responsive';\n\n\nfunction B(props) {\n\treturn Object(preact_min[\"h\"])(\n\t\t'h1',\n\t\tnull,\n\t\t'Hello, ',\n\t\tprops.name\n\t);\n}\n\nfunction A(props) {\n\treturn Object(preact_min[\"h\"])(B, { name: props.name });\n}\n\nvar profile_Profile = function (_Component) {\n\tprofile__inherits(Profile, _Component);\n\n\tfunction Profile(props) {\n\t\tvar _this$state;\n\n\t\tprofile__classCallCheck(this, Profile);\n\n\t\tvar _this = profile__possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_this.updateTime = function () {\n\t\t\t_this.setState({ time: Date.now() });\n\t\t};\n\n\t\t_this.increment = function () {\n\t\t\t_this.setState({ count: _this.state.count + 1 });\n\t\t};\n\n\t\t_this.getApiUrl = function () {\n\t\t\tvar tz = _this.state.tz;\n\t\t\tvar msg = _this.state.msg;\n\t\t\tvar host = \"https://andthetimeis.com\";\n\t\t\treturn host + \"/\" + tz + \"/\" + msg + \".json\";\n\t\t};\n\n\t\t_this.addKissaCount = function (event) {\n\t\t\t_this.setState({ kissacount: _this.state.kissacount + 1 });\n\t\t};\n\n\t\t_this.state = (_this$state = {\n\t\t\ttime: Date.now(),\n\t\t\tcount: 10,\n\t\t\ttz: null,\n\t\t\tmsg: 'now'\n\t\t}, _this$state['tz'] = 'PST', _this$state.currentTime = null, _this$state.kissacount = 0, _this$state);\n\n\t\t_this.fetchCurrentTime = _this.fetchCurrentTime.bind(_this);\n\t\t_this.handleFormSubmit = _this.handleFormSubmit.bind(_this);\n\t\t_this.handleChange = _this.handleChange.bind(_this);\n\t\treturn _this;\n\t}\n\n\t// gets called when this route is navigated to\n\n\n\tProfile.prototype.componentDidMount = function componentDidMount() {\n\t\t// start a timer for the clock:\n\t\tthis.timer = setInterval(this.updateTime, 1000);\n\t};\n\n\t// gets called just before navigating away from the route\n\n\n\tProfile.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\tclearInterval(this.timer);\n\t};\n\n\t// update the current time\n\n\n\tProfile.prototype.handleChange = function handleChange(newState) {\n\t\tthis.setState({ newState: newState });\n\t};\n\n\tProfile.prototype.handleFormSubmit = function handleFormSubmit(evt) {\n\t\tthis.fetchCurrentTime();\n\t};\n\n\tProfile.prototype.fetchCurrentTime = function fetchCurrentTime() {\n\t\tvar _this2 = this;\n\n\t\tvar url = this.getApiUrl();\n\t\tfetch(url, {\n\t\t\tmode: 'cors',\n\t\t\tcredentials: 'include'\n\t\t}).then(function (resp) {\n\t\t\treturn resp.json();\n\t\t}).then(function (data) {\n\t\t\tvar currentTime = data.dataString;\n\t\t\t_this2.setState({ currentTime: currentTime });\n\t\t});\n\t};\n\n\t// Note: `user` comes from the URL, courtesy of our router\n\tProfile.prototype.render = function render(_ref, _ref2) {\n\t\tvar user = _ref.user;\n\t\tvar time = _ref2.time,\n\t\t    count = _ref2.count;\n\t\tvar _state = this.state,\n\t\t    currentTime = _state.currentTime,\n\t\t    tz = _state.tz;\n\t\tvar kissacount = this.state.kissacount;\n\n\t\tvar apiUrl = this.getApiUrl();\n\n\t\tconsole.log(\"Media.screen\");\n\t\tconsole.log(Media[\"a\" /* default */].screen);\n\n\t\treturn Object(preact_min[\"h\"])(\n\t\t\t'div',\n\t\t\t{ 'class': profile_style_default.a.profile + ' page' },\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'h1',\n\t\t\t\tnull,\n\t\t\t\t'Profile: ',\n\t\t\t\tuser\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'p',\n\t\t\t\tnull,\n\t\t\t\t'This is the user profile for a user named ',\n\t\t\t\tuser,\n\t\t\t\t'.'\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\t'Current time: ',\n\t\t\t\tnew Date(time).toLocaleString()\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'p',\n\t\t\t\tnull,\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\tButton_default.a,\n\t\t\t\t\t{ raised: true, ripple: true, onClick: this.increment },\n\t\t\t\t\t'Click Me'\n\t\t\t\t),\n\t\t\t\t' ',\n\t\t\t\t'Clicked ',\n\t\t\t\tcount,\n\t\t\t\t' times.'\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\t!currentTime && Object(preact_min[\"h\"])(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ onClick: this.fetchCurrentTime },\n\t\t\t\t\t'Get the current time'\n\t\t\t\t),\n\t\t\t\tcurrentTime && Object(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t'The current time is: ',\n\t\t\t\t\tcurrentTime\n\t\t\t\t),\n\t\t\t\tObject(preact_min[\"h\"])(TimeForm_TimeForm, {\n\t\t\t\t\tonFormSubmit: this.handleFormSubmit,\n\t\t\t\t\tonFormChange: this.handleChange,\n\t\t\t\t\ttz: tz,\n\t\t\t\t\tmsg: 'now'\n\t\t\t\t}),\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'p',\n\t\t\t\t\tnull,\n\t\t\t\t\t'We\\'ll be making a request from: ',\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'code',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tapiUrl\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(A, { name: \"kissa \" + kissacount }),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'button',\n\t\t\t\t{ onClick: this.addKissaCount },\n\t\t\t\t'KissaCount'\n\t\t\t)\n\t\t);\n\t};\n\n\treturn Profile;\n}(preact_min[\"Component\"]);\n\n\n\n/***/ }),\n\n/***/ \"Tv6c\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"profile\":\"profile__1f25-\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-profile.chunk.91571.js","import { h, Component } from 'preact';\nimport Button from 'preact-material-components/Button';\nimport 'preact-material-components/Button/style.css';\nimport style from './style';\nimport TimeForm from './TimeForm';\n// import { MediaQuery } from '../../preact-responsive/preact-responsive';\nimport Media from '../../utils/Media';\n\nfunction B(props) {\t\n\treturn <h1>Hello, {props.name}</h1>;\n}\n\nfunction A(props) {\t\n\treturn <B name={props.name}></B>;\n}\n\nexport default class Profile extends Component {\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttime: Date.now(),\n\t\t\tcount: 10,\n\t\t\ttz: null,\n\t\t\tmsg: 'now',\n\t\t\ttz: 'PST',\n\t\t\tcurrentTime: null,\n\t\t\tkissacount: 0,\n\t\t};\n\n\t\tthis.fetchCurrentTime = this.fetchCurrentTime.bind(this);\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\t// gets called when this route is navigated to\n\tcomponentDidMount() {\n\t\t// start a timer for the clock:\n\t\tthis.timer = setInterval(this.updateTime, 1000);\n\t}\n\n\t// gets called just before navigating away from the route\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.timer);\n\t}\n\n\t// update the current time\n\tupdateTime = () => {\n\t\tthis.setState({ time: Date.now() });\n\t};\n\n\tincrement = () => {\n\t\tthis.setState({ count: this.state.count+1 });\n\t};\n\n\tgetApiUrl = () => {\n\t\tconst tz = this.state.tz;\n\t\tconst msg = this.state.msg;\n\t\tconst host = \"https://andthetimeis.com\";\n\t\treturn host +\"/\" +tz +\"/\" +msg +\".json\";\n\t}\n\n\thandleChange(newState){\n\t\tthis.setState({newState});\n\t}\n\n\thandleFormSubmit(evt) {\n\t\tthis.fetchCurrentTime();\n\t}\n\t\t\n\tfetchCurrentTime(){\n\t\tconst url = this.getApiUrl();\n\t\tfetch(url,  {\n\t\t\tmode: 'cors',\n\t\t\tcredentials: 'include'\n\t\t  })\n\t\t.then(resp => resp.json())\n\t\t.then(data => {\n\t\t\tconst currentTime = data.dataString;\n\t\t\tthis.setState({currentTime});\n\t\t})\n\t}\n\n\taddKissaCount = (event) =>\n\t{\n\t\tthis.setState({kissacount: this.state.kissacount +1 });\n\t}\n\n\t// Note: `user` comes from the URL, courtesy of our router\n\trender({ user }, { time, count } ) {\n\t\tconst {currentTime, tz} = this.state;\n\t\tconst { kissacount } = this.state;\n\t\tconst apiUrl = this.getApiUrl();\n\n\t\tconsole.log(\"Media.screen\");\n\t\tconsole.log(Media.screen);\n\t\t\n\t\treturn (\n\t\t\t<div class={`${style.profile} page`}>\n\t\t\t\t<h1>Profile: {user}</h1>\n\t\t\t\t<p>This is the user profile for a user named { user }.</p>\n\n\t\t\t\t<div>Current time: {new Date(time).toLocaleString()}</div>\n\n\t\t\t\t<p>\n\t\t\t\t\t<Button raised ripple onClick={this.increment}>Click Me</Button>\n\t\t\t\t\t{' '}\n\t\t\t\t\tClicked {count} times.\n\t\t\t\t</p>\n\n\n\t\t\t\t<div>\n        {!currentTime &&\n          <button onClick={this.fetchCurrentTime}>\n            Get the current time\n          </button>}\n        {currentTime && <div>The current time is: {currentTime}</div>}\n        <TimeForm\n          onFormSubmit={this.handleFormSubmit}\n          onFormChange={this.handleChange}\n          tz={tz}\n          msg={'now'}\n        />\n        <p>We'll be making a request from: <code>{apiUrl}</code></p>\n      </div>\n\t  \t\t<A name={\"kissa \" +kissacount}></A>\n\t\t\t<button onClick={this.addKissaCount}>KissaCount</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/profile/index.js","import { h, Component } from 'preact';\r\n\r\nconst timezones = ['PST', 'MST', 'MDT', 'EST', 'UTC']\r\n\r\nexport default class TimeForm extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        /*\r\n        this.fetchCurrentTime = this.fetchCurrentTime.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        */\r\n        const {tz, msg} = props;\r\n        this.state = {tz, msg};\r\n    }\r\n        _\r\n    _handleChange(evt) {\r\n        typeof this.props.onFormChange === 'function' &&\r\n        this.props.onFormChange(this.state);\r\n    }\r\n\r\n    _changeTimezone(evt) {\r\n        const tz = evt.target.value;\r\n        this.setState({tz}, this._handleChange);\r\n    }\r\n\r\n    _changeMsg(evt) {\r\n        const msg =\r\n        encodeURIComponent(evt.target.value).replace(/%20/, '+');\r\n        this.setState({msg}, this._handleChange);\r\n    }\r\n        _\r\n    _handleFormSubmit(evt) {\r\n        evt.preventDefault();\r\n        typeof this.props.onFormSubmit === 'function' &&\r\n        this.props.onFormSubmit(this.state);\r\n    }\r\n\r\n    render(props, state) {\r\n        const {tz} = state;\r\n        return (\r\n            <form onSubmit={this._handleFormSubmit}>\r\n                <select\r\n                    onChange={this._changeTimezone}\r\n                    defaultValue={tz}>\r\n                    {timezones.map(t => {\r\n                    return (<option key={t} value={t}>{t}</option>)\r\n                    })}\r\n                </select>\r\n                <input\r\n                type=\"text\"\r\n                placeholder=\"A chronic string message (such as 7 hours from\r\n                now)\"\r\n                onChange={this._changeMsg}\r\n                />\r\n                <input\r\n                type=\"submit\"\r\n                value=\"Update request\"\r\n                />\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./routes/profile/TimeForm.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"profile\":\"profile__1f25-\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/profile/style.css\n// module id = Tv6c\n// module chunks = 0"],"sourceRoot":""}